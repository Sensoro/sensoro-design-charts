"use strict";(self.webpackChunksensoro_design_charts=self.webpackChunksensoro_design_charts||[]).push([["8444"],{61075:function(n,e,a){a.r(e),a.d(e,{default:()=>u});var t=a(52676),l=a(40453),o=a(46514),r=a(49204),i=a(68668);function s(n){let e=Object.assign({h1:"h1",a:"a",h2:"h2",pre:"pre",code:"code"},(0,l.ah)(),n.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.h1,{id:"桑基图",children:[(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#桑基图",children:"#"}),"桑基图"]}),"\n",(0,t.jsxs)(e.h2,{id:"自定义颜色",children:[(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义颜色",children:"#"}),"自定义颜色"]}),"\n",(0,t.jsxs)(i.Z,{isMobile:"false",demoId:"_demos_config_Sankey_1",children:[(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"import type { SankeyProps } from '@sensoro-design/chart';\nimport { Sankey } from '@sensoro-design/chart';\n\nconst values = [\n  {\n    nodes: [\n      {\n        name: '今日巡航次数',\n        value: 160,\n        total: 1087875,\n        children: [\n          {\n            name: '公共安全',\n            value: 40,\n            total: 287875,\n            children: [\n              { name: '高风险', value: 10, total: 18764 },\n              { name: '中风险', value: 10, total: 22329 },\n              { name: '低风险', value: 10, total: 43093 },\n              { name: '无风险', value: 10, total: 763875 },\n            ],\n          },\n          {\n            name: '交通安全',\n            value: 40,\n            total: 200653,\n            children: [\n              { name: '高风险', value: 10, total: 18764 },\n              { name: '中风险', value: 10, total: 22329 },\n              { name: '低风险', value: 10, total: 43093 },\n              { name: '无风险', value: 10, total: 763875 },\n            ],\n          },\n          {\n            name: '市容市政',\n            value: 40,\n            total: 406765,\n            children: [\n              { name: '高风险', value: 10, total: 18764 },\n              { name: '中风险', value: 10, total: 22329 },\n              { name: '低风险', value: 10, total: 43093 },\n              { name: '无风险', value: 10, total: 763875 },\n            ],\n          },\n          {\n            name: '城市秩序',\n            value: 40,\n            total: 82854,\n            children: [\n              { name: '高风险', value: 10, total: 18764 },\n              { name: '中风险', value: 10, total: 22329 },\n              { name: '低风险', value: 10, total: 43093 },\n              { name: '无风险', value: 10, total: 763875 },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n];\n\nconst colors = ['#423CD1', '#E7474D', '#E7AF2C', '#51C2E1', '#3AC583'];\nconst specified = {\n  今日巡航次数: colors[0],\n  公共安全: colors[0],\n  交通安全: colors[0],\n  市容市政: colors[0],\n  城市秩序: colors[0],\n  高风险: colors[1],\n  中风险: colors[2],\n  低风险: colors[3],\n  无风险: colors[4],\n};\n\nfunction Example() {\n  const spec: SankeyProps = {\n    height: 600,\n    data: [\n      {\n        values,\n      },\n    ],\n    color: {\n      type: 'ordinal',\n      range: colors,\n      domain: [],\n      specified,\n    },\n    categoryField: 'name',\n    valueField: 'value',\n    nodeAlign: 'left',\n    nodeWidth: 4,\n    // @ts-expect-error 忽略报错\n    nodeKey: datum => datum.name,\n    nodeHeight: (node) => {\n      return node.depth === 0 ? 160 : 40;\n    },\n    label: {\n      visible: true,\n      offset: 8,\n      formatMethod: (_, datum) => {\n        return `${datum?.name} ${datum?.total?.toLocaleString()}`;\n      },\n      style: {\n        fill: '#F6F9FE',\n        fontSize: 12,\n      },\n    },\n\n    link: {\n      style: {\n        fill: (datum) => {\n          // @ts-expect-error 忽略报错\n          const start = specified[datum?.source];\n          // @ts-expect-error 忽略报错\n          const end = specified[datum?.target];\n          return {\n            gradient: 'linear',\n            x0: 0,\n            y0: 0,\n            x1: 1,\n            y1: 1,\n            stops: [\n              {\n                offset: 0,\n                color: start,\n              },\n              {\n                offset: 1,\n                color: end,\n              },\n            ],\n          };\n        },\n      },\n    },\n\n    emphasis: {\n      enable: true,\n      trigger: 'hover',\n      effect: 'related',\n    },\n  };\n\n  return (\n    <Sankey {...spec} />\n  );\n};\n\nexport default Example;\n"})})}),(0,t.jsx)(o.default,{})]}),"\n",(0,t.jsxs)(e.h2,{id:"空数据",children:[(0,t.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#空数据",children:"#"}),"空数据"]}),"\n",(0,t.jsxs)(i.Z,{isMobile:"false",demoId:"_demos_config_Sankey_2",children:[(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-tsx",children:"import type { SankeyProps } from '@sensoro-design/chart';\nimport { Sankey } from '@sensoro-design/chart';\n\nconst values = [\n  {\n    nodes: [\n      {\n        name: '今日巡航次数',\n        value: 160,\n        total: 0,\n        children: [\n          {\n            name: '公共安全',\n            value: 40,\n            total: 0,\n            children: [\n              { name: '高风险', value: 10, total: 0 },\n              { name: '中风险', value: 10, total: 0 },\n              { name: '低风险', value: 10, total: 0 },\n              { name: '无风险', value: 10, total: 0 },\n            ],\n          },\n          {\n            name: '交通安全',\n            value: 40,\n            total: 0,\n            children: [\n              { name: '高风险', value: 10, total: 0 },\n              { name: '中风险', value: 10, total: 0 },\n              { name: '低风险', value: 10, total: 0 },\n              { name: '无风险', value: 10, total: 0 },\n            ],\n          },\n          {\n            name: '市容市政',\n            value: 40,\n            total: 0,\n            children: [\n              { name: '高风险', value: 10, total: 0 },\n              { name: '中风险', value: 10, total: 0 },\n              { name: '低风险', value: 10, total: 0 },\n              { name: '无风险', value: 10, total: 0 },\n            ],\n          },\n          {\n            name: '城市秩序',\n            value: 40,\n            total: 82854,\n            children: [\n              { name: '高风险', value: 10, total: 0 },\n              { name: '中风险', value: 10, total: 0 },\n              { name: '低风险', value: 10, total: 0 },\n              { name: '无风险', value: 10, total: 0 },\n            ],\n          },\n        ],\n      },\n    ],\n  },\n];\n\nconst colors = ['#423CD1', '#E7474D', '#E7AF2C', '#51C2E1', '#3AC583'];\nconst specified = {\n  今日巡航次数: colors[0],\n  公共安全: colors[0],\n  交通安全: colors[0],\n  市容市政: colors[0],\n  城市秩序: colors[0],\n  高风险: colors[1],\n  中风险: colors[2],\n  低风险: colors[3],\n  无风险: colors[4],\n};\n\nfunction Example() {\n  const spec: SankeyProps = {\n    height: 600,\n    data: [\n      {\n        values,\n      },\n    ],\n    color: {\n      type: 'ordinal',\n      range: colors,\n      domain: [],\n      specified,\n    },\n    categoryField: 'name',\n    valueField: 'value',\n    nodeAlign: 'left',\n    nodeWidth: 4,\n    // @ts-expect-error 忽略报错\n    nodeKey: datum => datum.name,\n    nodeHeight: (node) => {\n      return node.depth === 0 ? 160 : 40;\n    },\n    label: {\n      visible: true,\n      offset: 8,\n      formatMethod: (_, datum) => {\n        return `${datum?.name} ${datum?.total?.toLocaleString()}`;\n      },\n      style: {\n        fill: '#F6F9FE',\n        fontSize: 12,\n      },\n    },\n    tooltip: {\n      mark: {\n        visible: false,\n      },\n    },\n\n    link: {\n      style: {\n        fill: '#30343D',\n      },\n    },\n\n    emphasis: {\n      enable: true,\n      trigger: 'hover',\n      effect: 'related',\n    },\n  };\n\n  return (\n    <Sankey {...spec} />\n  );\n};\n\nexport default Example;\n"})})}),(0,t.jsx)(r.default,{})]})]})}function d(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,l.ah)(),n.components);return e?(0,t.jsx)(e,Object.assign({},n,{children:(0,t.jsx)(s,n)})):s(n)}let u=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["demos%2Fconfig%2FSankey.mdx"]={toc:[{id:"自定义颜色",text:"自定义颜色",depth:2},{id:"空数据",text:"空数据",depth:2}],title:"桑基图",headingTitle:"桑基图",frontmatter:{}}},46514:function(n,e,a){a.r(e),a.d(e,{default:()=>s});var t=a(52676),l=a(34371);let o=[{nodes:[{name:"今日巡航次数",value:160,total:1087875,children:[{name:"公共安全",value:40,total:287875,children:[{name:"高风险",value:10,total:18764},{name:"中风险",value:10,total:22329},{name:"低风险",value:10,total:43093},{name:"无风险",value:10,total:763875}]},{name:"交通安全",value:40,total:200653,children:[{name:"高风险",value:10,total:18764},{name:"中风险",value:10,total:22329},{name:"低风险",value:10,total:43093},{name:"无风险",value:10,total:763875}]},{name:"市容市政",value:40,total:406765,children:[{name:"高风险",value:10,total:18764},{name:"中风险",value:10,total:22329},{name:"低风险",value:10,total:43093},{name:"无风险",value:10,total:763875}]},{name:"城市秩序",value:40,total:82854,children:[{name:"高风险",value:10,total:18764},{name:"中风险",value:10,total:22329},{name:"低风险",value:10,total:43093},{name:"无风险",value:10,total:763875}]}]}]}],r=["#423CD1","#E7474D","#E7AF2C","#51C2E1","#3AC583"],i={今日巡航次数:r[0],公共安全:r[0],交通安全:r[0],市容市政:r[0],城市秩序:r[0],高风险:r[1],中风险:r[2],低风险:r[3],无风险:r[4]},s=function(){return(0,t.jsx)(l.bQ,{height:600,data:[{values:o}],color:{type:"ordinal",range:r,domain:[],specified:i},categoryField:"name",valueField:"value",nodeAlign:"left",nodeWidth:4,nodeKey:n=>n.name,nodeHeight:n=>0===n.depth?160:40,label:{visible:!0,offset:8,formatMethod:(n,e)=>{var a;return`${null==e?void 0:e.name} ${null==e?void 0:null===(a=e.total)||void 0===a?void 0:a.toLocaleString()}`},style:{fill:"#F6F9FE",fontSize:12}},link:{style:{fill:n=>({gradient:"linear",x0:0,y0:0,x1:1,y1:1,stops:[{offset:0,color:i[null==n?void 0:n.source]},{offset:1,color:i[null==n?void 0:n.target]}]})}},emphasis:{enable:!0,trigger:"hover",effect:"related"}})}},49204:function(n,e,a){a.r(e),a.d(e,{default:()=>s});var t=a(52676),l=a(34371);let o=[{nodes:[{name:"今日巡航次数",value:160,total:0,children:[{name:"公共安全",value:40,total:0,children:[{name:"高风险",value:10,total:0},{name:"中风险",value:10,total:0},{name:"低风险",value:10,total:0},{name:"无风险",value:10,total:0}]},{name:"交通安全",value:40,total:0,children:[{name:"高风险",value:10,total:0},{name:"中风险",value:10,total:0},{name:"低风险",value:10,total:0},{name:"无风险",value:10,total:0}]},{name:"市容市政",value:40,total:0,children:[{name:"高风险",value:10,total:0},{name:"中风险",value:10,total:0},{name:"低风险",value:10,total:0},{name:"无风险",value:10,total:0}]},{name:"城市秩序",value:40,total:82854,children:[{name:"高风险",value:10,total:0},{name:"中风险",value:10,total:0},{name:"低风险",value:10,total:0},{name:"无风险",value:10,total:0}]}]}]}],r=["#423CD1","#E7474D","#E7AF2C","#51C2E1","#3AC583"],i={今日巡航次数:r[0],公共安全:r[0],交通安全:r[0],市容市政:r[0],城市秩序:r[0],高风险:r[1],中风险:r[2],低风险:r[3],无风险:r[4]},s=function(){return(0,t.jsx)(l.bQ,{height:600,data:[{values:o}],color:{type:"ordinal",range:r,domain:[],specified:i},categoryField:"name",valueField:"value",nodeAlign:"left",nodeWidth:4,nodeKey:n=>n.name,nodeHeight:n=>0===n.depth?160:40,label:{visible:!0,offset:8,formatMethod:(n,e)=>{var a;return`${null==e?void 0:e.name} ${null==e?void 0:null===(a=e.total)||void 0===a?void 0:a.toLocaleString()}`},style:{fill:"#F6F9FE",fontSize:12}},tooltip:{mark:{visible:!1}},link:{style:{fill:"#30343D"}},emphasis:{enable:!0,trigger:"hover",effect:"related"}})}}}]);